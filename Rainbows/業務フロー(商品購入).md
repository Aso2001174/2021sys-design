```uml
@startuml
ユーザー -> Webサーバー : 検索(商品名)
Webサーバー -> DBサーバー : 検索処理(商品名)
DBサーバー -> DBサーバー : 検索処理
DBサーバー -> Webサーバー : 検索結果
Webサーバー -> ユーザー : 検索結果

opt 商品クリック(詳細表示)
ユーザー -> Webサーバー : 商品クリック
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 詳細情報表示
end

opt カートに商品を追加
ユーザー -> Webサーバー : カートに追加
Webサーバー -> DBサーバー : 商品照会
DBサーバー -> DBサーバー : 追加処理
DBサーバー -> Webサーバー : 追加結果
Webサーバー -> ユーザー : 追加結果
end

opt 購入する
ユーザー -> Webサーバー : 購入するをクリック
Webサーバー -> DBサーバー : 購入照会
DBサーバー -> DBサーバー : 購入処理
DBサーバー -> Webサーバー : 購入結果
Webサーバー -> ユーザー : 購入結果
end

opt 購入履歴
ユーザー -> Webサーバー : 購入履歴をクリック
Webサーバー -> DBサーバー : 履歴照会
DBサーバー -> DBサーバー : 履歴取得処理
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 照会結果
end
@enduml
```
