```uml
@startuml
opt 未登録
ユーザー -> webサーバー : ユーザー登録
webサーバー -> DBサーバー : ユーザー登録
DBサーバー -> DBサーバー : 登録処理
DBサーバー -> webサーバー : 登録結果

alt 登録成功
webサーバー -> ユーザー : 登録メッセージを表示
else 登録失敗
webサーバー -> ユーザー : 失敗メッセージを表示
end

end

ユーザー -> webサーバー : 検索(商品名)
webサーバー -> DBサーバー : 検索処理(商品名)
DBサーバー -> DBサーバー : 検索処理
DBサーバー -> webサーバー : 検索結果
webサーバー -> ユーザー : 検索結果

opt 商品クリック(詳細表示)
ユーザー -> webサーバー : 商品クリック
webサーバー -> DBサーバー : 商品照会
DBサーバー -> webサーバー : 照会結果
webサーバー -> ユーザー : 詳細情報表示

opt 戻る機能
ユーザー -> webサーバー : 戻る処理
end

alt 在庫あり
opt カートに商品を追加
ユーザー -> webサーバー : カートに追加
webサーバー -> DBサーバー : 商品照会
DBサーバー -> DBサーバー : カートに追加された分の商品数を減らす
end

else 在庫なし
ユーザー -> webサーバー : カートに追加
webサーバー -> DBサーバー : 商品照会
DBサーバー -> webサーバー : 照会結果
webサーバー -> ユーザー : 在庫結果
DBサーバー -> 発注業者 : 商品の発注
end

end

ユーザー -> webサーバー : ログイン
webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> webサーバー : 認証結果

alt ログイン成功
webサーバー -> ユーザー : 認証結果(成功)

opt 会員情報編集
ユーザー -> webサーバー : 変更する情報を入力
webサーバー -> DBサーバー :変更情報
DBサーバー -> DBサーバー : 変更処理
DBサーバー -> webサーバー : 編集結果
webサーバー -> ユーザー : 編集結果
end

opt お気に入りに追加
ユーザー -> webサーバー : お気に入りに追加
webサーバー -> DBサーバー : 追加処理
DBサーバー -> DBサーバー : 追加処理
DBサーバー -> webサーバー : 追加結果
end

else ログイン失敗
webサーバー -> ユーザー : 認証結果(失敗)
end
@enduml
```
